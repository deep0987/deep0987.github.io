<html>
<head>
	<title>Pomodoro</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="main.css">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="jquery-3.2.1.min.js"></script>

	<link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet">
	
</head>
<body>
<div class="container-fluid" id="main">
	<audio id="buzz" src="http://soundbible.com/mp3/old-fashioned-door-bell-daniel_simon.mp3" type="audio/mpeg"></audio>
	<audio id="buzz2" src="http://soundbible.com/mp3/Tick-DeepFrozenApps-397275646.mp3" type="audio/mpeg"></audio>
	<h1 id="header">Pomodoro Timer</h1>
	<hr id="line">
	<div id="niceBack" class="style1 style2" align="center">
		<div id="time">
			<h4 id="text1">Start Time</h4>
			<a href="#" class="btn btn-primary" id="add5time" style="width:35px;">+</a>
			<h2 id="startNum">5</h3>
			<a href="#" class="btn btn-primary" id="remove5time" style="width:35px;">-</a>
		</div>
		
		<div id="break">
			<h4 id="text2">Break Time</h4>
			<a href="#" class="btn btn-primary" id="add5break" style="width:35px;">+</a>
			<h2 id="breakNum">5</h3>
			<a href="#" class="btn btn-primary" id="remove5break" style="width:35px;">-</a>
		</div>
		<div id="startRun">
			<a href="#" class="btn btn-primary" id="start">start</a>
			<a href="#" class="btn btn-primary" id="reset">reset</a>
		</div>
	</div>
	<div id="footer">
		<h5>Coded and Designed by || <a href="https://www.facebook.com/profile.php?id=100009758328154&ref=bookmarks" id="link1" target="_blank">Dwip S.Mondal</a></h5>
	</div>	
	
</div>
</body>

<script>
$(document).ready(function(){
	var startingTime = parseInt($("#startNum").html());
	console.log(startingTime);
	var breakingTime = parseInt($("#breakNum").html());
	console.log(breakingTime);
	var counter;
	var breakCounter;
	var rec;
	$("#reset").hide();

	$("#start").click(function callTimer(){

			$("#niceBack").addClass("style3");
		    counter = setInterval(timer,1000);
		    startingTime*=60;

			function timer(){
				startingTime-=1;
				$("#add5time,#remove5time,#add5break,#remove5break,#breakNum,#text2,#start").hide();
				$("#text1").html("Session Time: ");
				$("#buzz2")[0].play();

				if(startingTime%60>=10){
					$("#startNum").html(Math.floor(startingTime/60)+":"+startingTime%60);
				}else{
					$("#startNum").html(Math.floor(startingTime/60)+":"+"0"+startingTime%60);
				}

				if(startingTime === 0){
					$("#buzz")[0].play();
					$("#buzz2")[0].pause();
					clearInterval(counter);
					breakCounter = setInterval(newTimer,1000);
					breakingTime*=60;
					function newTimer(){
						breakingTime-=1;
						
						if(breakingTime%60>=10){
							$("#breakNum").html(Math.floor(breakingTime/60)+":"+breakingTime%60);
						}else{
							$("#breakNum").html(Math.floor(breakingTime/60)+":"+"0"+breakingTime%60);
						}
						$("#buzz2")[0].play();

						$("#text1").html("Break Time: ");
						$("#breakNum").show();
						$("#startNum").hide();
						if(breakingTime === 0){
							$("#buzz")[0].play();
							$("#buzz2")[0].pause();
							clearInterval(breakCounter);
							$("#reset").show();
							
						}

					}
				}
			}

	});


	$("#reset").click(function(){
		startingTime = 5;
		breakingTime = 5;
		$("#startNum").html(startingTime);
		$("#breakNum").html(breakingTime);
		$("#add5time,#remove5time,#add5break,#remove5break,#breakNum,#text2,#start,#startNum,text1").show();
		$("#reset").hide();
		$("#niceBack").removeClass("style3");
	});
	
	
	$("#add5time").click(function(){
		startingTime+=1;
		$("#startNum").html(startingTime);
		
	});
	$("#remove5time").click(function(){
		if(startingTime > 1){
			startingTime-=1;
			$("#startNum").html(startingTime);
		}
	});
	$("#add5break").click(function(){
		breakingTime+=1;
		$("#breakNum").html(breakingTime);
		
	});
	$("#remove5break").click(function(){
		if(breakingTime > 1){
			breakingTime-=1;
			$("#breakNum").html(breakingTime);
		}
	});

});
</script>
</html>
